
# Разработка веб-сайта для медицинской лаборатории с использованием Flask на языке Python (с админкой)

### Приложение предназначено для выбора медицинских исследований с получением итоговой суммы заказа
### Пользователи сервиса:
* неавторизованный пользователь (доступно только формирование "корзины"),
* авторизованный пользователь (доступно формирование "корзины", оформление заказа и доступ к личному кабинету),
* админ (возможность добавлять, редактировать исследования и удалять исследования, авторизованных пользователей и заказы).

### Для создания приложения использовали Flask c базой данных SQLite, HTML, CCS, Bootstrap5.
### Из Flask применили:
* модуль Sqlalchemy (для работы с базой данных),
* модуль Wtforms (для обработки html-форм),
* модуль Flask-Login (для работы с авторизованными пользователями)
* инструмент Blueprints (для реализации админ-панели),
* функцию get_flashed_messages (для обработки сформированных сообщений в шаблоне документа).

### База данных состоит из трёх таблиц
![База данных](/mdimages/img1.png)
### 1. analyzes - таблица с исследованиями:
* номер (id)
* наименование исследования (name)
* цена исследования (price)
* дата создания исследования (created_date)

### 2. users - таблица с пользователями:
* номер (id)
* имя пользователя (name)
* фамилия пользователя (lastname)
* дата рождения (birthday)
* пол (gender)
* права доступа (level): пользователи=1, админ=2
* е-мэйл (email)
* пароль (hashed_password)
* дата регистрации пользователя (created_date)

### 3. orders - таблица с заказами
* номер (id)
* номер заказа (num_order)
* наименование исследования (name)
* цена исследования (price)
* дата создания заказа (created_date)
* номер пользователя (user_id)

### Перед началом работы необходимо установить зависимости: 
### pip install -r requirements.txt

### При запуске программ предложит перейти на страницу http://127.0.0.1:8000 переход, на которую открывает главную HTML-страницу:
![Главная страница](/mdimages/img2.png)

## Возможности обычного пользователя
### Главная страница:
* Регистрация
* ![Форма регистрации](/mdimages/img4.png)
  #### Условия:
  * Почта (email): обязательно для заполнения, корректный формат почты, максимум 25 символов, не должен совпадать с уже существующими
  * Пароль: обязательно для заполнения, от 6 до 30 символов
  * Повтор пароля: обязательно для заполнения, максимум 30 символов, должен совпадать с паролем
  * Имя: обязательно для заполнения, от 2 до 25 символов
  * Фамилия: обязательно для заполнения, от 2 до 25 символов
  * Дата рождения: обязательно для заполнения, в формате "дд.мм.гг"

* Иконка корзины (для просмотра выбранных исследований), цифра показывает количество исследований в корзине
* ![Иконка корзины](/mdimages/img8.png)

* Поиск исследования
* ![Поиск исследований](/mdimages/img6.png)
    #### Условия:
    * ввод не больше 20 символов
  
* Лаб. исследования (просмотр всех исследований)
* ![ссылка на Лаб. исследования](/mdimages/img9.png) 

### Страница "Лабораторные исследования":
* Добавление исследования в корзину --> Корзина
* ![Лаб. исследования](/mdimages/img7.png)

### Страница "Корзина":
* Добавление исследования
* Удаление определённого исследования
* Удаление всех исследований сразу
* Авторизация
* ![Корзины](/mdimages/img5.png)

  
## Возможности авторизированного пользователя
### Аналогичные, что и у обычного пользователя
### Новые
### Главная страница:
* Войти (если зарегистрированный)
* ![Авторизация](/mdimages/img10.png)
   #### Условия:
   * логин: обязательное поле, корректный формат, максимум 25 символов
   * пароль: обязательное поле, от 6 до 30 символов
   * логин и пароль должны соответствовать друг другу

* Надпись "Имя пользователя": Личный кабинет и Выйти
* ![Имя пользователя с Личным кабинетом и Выйти](/mdimages/img11.png)

### Страница "Корзина":
* Оформление заказа --> Информация о заказе с возможностью перейти в Личный кабинет
* ![Корзина авторизированного пользователя](/mdimages/img12.png)

### Страница "Ваш заказ":
* * ![Заказ авторизированного пользователя](/mdimages/img12a.png)

### Личный кабинет:
* Информация о всех заказах пользователя
* ![Личный кабинет](/mdimages/img13.png)

## Возможности админа
### Аналогичные, что и у авторизированного пользователя
### Основные новые

### Для входа
* логин: admin@email.ru
* пароль: 123456


### Вход в админку в углу слева над "подавлом"
<img src="mdimages/admin.png">

### Панель администратора (все страницы с пагинацией)
![Панель-админ](/mdimages/img14.png)
* ### Исследования:
  + #### Просмотр всех исследований
  + ![Исследования_просмотр](/mdimages/img15.png)
  + #### Добавление нового исследования
  + ![Исследования_добавление](/mdimages/img16.png)
  
     #### условия:
     * наименование исследования: обязательно для заполнения, не должно превышать 50 символов, не должно совпадать с существующими
     * цена исследования: обязательно для заполнения, число больше 0, меньше 1000000
  
  + #### Редактирование исследования
  + ![Исследования_редактирование](/mdimages/img17.png)
  
     #### условия:
     * наименование исследования: обязательно для заполнения, не должно превышать 50 символов
     * цена исследования: обязательно для заполнения, число больше 0, меньше 1000000
  + удаление исследования


* ### Заказы:
  + #### Просмотр всех заказов
  + ![Заказы](/mdimages/img18.png)
  
  + #### Просмотр исследований определённого заказа (для этого в поисковике нужно набрать номер заказа)
  + ![Заказы](/mdimages/img17a.png)
  + ![Заказы](/mdimages/img19.png)
  
  + #### Удаление заказа


* ### Пользователи:
  + #### Просмотр всех пользователей
  + #### Удаление пользователя
  + ![Пользователи](/mdimages/img20.png)
